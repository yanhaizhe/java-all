0、 所有的缓冲区都是可读的，但并非所有都可写。用 isReadOnly\(\)函数来判断缓冲区是否只读。

1、缓冲区有两种模式（读模式、写模式）。buffer的初始模式为写模式。 写的时候是否可以读？写分为开始写，读后再写，标记再写？读分为读模式下的开始读，标记再读？

2、缓冲区具有四个属性，来提供其作为容器所包含的数据元素的信息。容量（capacity），上界（limit）,位置（position），标识（mark）。四个属性之间的关系：0&lt;=mark&lt;=position&lt;=limit&lt;=capacity。容量是固定的，其他三个属性在使用缓冲区时会变化。

位置\(postion\)属性的作用:跟踪添加到缓冲区中的数据元素的数量和放入下一个元素的位置。它在缓冲区（buffer）调用get\(\)和put\(\)方法时变动：buffer调用put\(\)方法时，position将指出下一个元素应该被插入的位置；buffer调用get\(\)方法时，position将指出下一个元素应从何处检索。

get\(\)和put\(\)有相对的和绝对的。绝对的带有索引，被调用时位置（position）不变；相对的不带索引，以当前位置（position）为索引，被调用时，位置会进一，如果位置前进过多，相对运算就会抛出异常。

3、缓冲区的模式与四个属性的关系：

buffer的初始模式为写模式，此时其四个属性的状态如图：

![](/assets/QQ截图20160929135844.png)

位置\(position\)设置为0，上界（limit）和容量\(capacity\)刚好位于缓冲区能够容纳的最后一个字节，标记\(mark\)此时还没有被定义。

然后调用 相对的put\(\)填充，填充后：



